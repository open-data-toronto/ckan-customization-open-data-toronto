{% block catalog %}

<!-- Bootstrap JS and CSS -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js">
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js">
</script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js">
</script>
<link rel="stylesheet" href="https://cdn.datatables.net/1.10.22/css/dataTables.bootstrap4.min.css">
<script src="https://cdn.datatables.net/1.10.22/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.22/js/dataTables.bootstrap4.min.js"></script>

<!-- Chart JS -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<!-- Custom Table CSS-->
<style>
  table {
    display: block;
    overflow-x: auto;
    white-space: nowrap;
    table-layout: fixed;
    height: 400px
  }

  thead {
    background-color: darkslategrey;
    color: white;
    position: sticky;
    top: 0;
  }

</style>

<!-- Download Button -->
<div class = "row">
  <div class = "col-sm-4">
    <a type="button" class="btn btn-primary btn-lg btn-block" href="{{ h.get_catalog().url }}">Download List</a>
  </div>
</div>

<!-- Table -->
<table class="table table-striped" id="catalog-table">
  <thead>
    <tr>
      {% for key, value in h.get_catalog().records[0].items() if key != "_id" %}
      <th>{{ key.replace("_", " ").capitalize() }}</th>
      {% endfor %}
    </tr>
  </thead>

  <tbody>
    {% for item in h.get_catalog().records %}

      <tr>
        {% for key, value in item.items() if key != "_id" %}
        <td>{{ value }}</td>
        {% endfor %}
      </tr>

    {% endfor %}
  </tbody>

</table>

<script>
  // Data table bootstrap sorting method
  $('#catalog-table').DataTable({
    "paging": false,
  });

</script>

{% for item in h.get_supervisor_logs() %}
  <p>{{ item }}</p>
{% endfor %}

{% endblock %}